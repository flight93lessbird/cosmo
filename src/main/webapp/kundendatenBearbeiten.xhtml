<ui:composition template="/headfootuser.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="content">
		<h:form>
			<h1>#{msg.kdbearbeiten}</h1>
			<p:growl id="growl" showDetail="true" sticky="true" />
			<h:panelGrid var="kunde" value="#{userHandler.merkeKunde}"
				columns="2" headerClass="header" footerClass="footer">
				<h:outputLabel value="#{msg.anrede}:" for="anrede" />
				<h:panelGroup>
					<h:selectOneMenu id="anrede"
						value="#{userHandler.merkeKunde.anrede}">
						<f:selectItems var="form" value="#{userHandler.anredeValues}"
							itemValue="#{form}" itemLabel="#{form.label}" />
					</h:selectOneMenu>
				</h:panelGroup>
				<h:outputLabel value="#{msg.vorname}:" for="vorname" />
				<h:panelGroup>
					<h:inputText id="vorname" value="#{userHandler.merkeKunde.vorname}"
						required="true" requiredMessage="#{msg.eingabefehlt}." />
					<h:message for="vorname" styleClass="message" />
				</h:panelGroup>
				<h:outputLabel value="#{msg.nachname}:" for="nachname" />
				<h:panelGroup>
					<h:inputText id="nachname"
						value="#{userHandler.merkeKunde.nachname}" required="true"
						requiredMessage="#{msg.eingabefehlt}." />
					<h:message for="nachname" styleClass="message" />
				</h:panelGroup>
				<h:outputLabel value="#{msg.geburtsdatum}:" for="geburtsdatum" />
				<h:panelGroup>
					<p:calendar id="geburtsdatum"
						value="#{userHandler.merkeKunde.geburtsdatum}" mode="popup"
						navigator="true" showOn="button" pattern="dd.MM.yyyy"
						yearRange="c-70:c+50" required="true"
						requiredMessage="#{msg.gueltigkdatumfehlt}." />
					<h:message styleClass="message" for="geburtsdatum" />
				</h:panelGroup>


				<h:outputLabel for="strasse" value="#{msg.strasse}:" />
				<h:panelGroup>
					<h:inputText id="strasse" required="true"
						value="#{userHandler.merkeAdresse.strasse}" />
				</h:panelGroup>
				<h:outputLabel for="plz" value="#{msg.plz}:" />
				<h:panelGroup>
					<h:inputText id="plz" required="true"
						value="#{userHandler.merkeAdresse.plz}">
						<f:validateRegex pattern="^([A-Z]-)?[0-9]{5}$" />
					</h:inputText>
				</h:panelGroup>
				<h:outputLabel for="ort" value="#{msg.ort}:" />
				<h:panelGroup>
					<h:inputText id="ort" required="true"
						value="#{userHandler.merkeAdresse.ort}" />
				</h:panelGroup>

				<h:commandButton action="#{pageHandler.toStartseite()}"
					value="#{msg.abbrechen}" immediate="true" />
				<h:commandButton action="#{userHandler.kdspeichern()}"
					value="#{msg.speichern}" update="messages" />

			</h:panelGrid>
		</h:form>
	</ui:define>
</ui:composition>